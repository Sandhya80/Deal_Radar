{% load static %}
<!--
Base Template for Deal Radar

This is the main template that provides the common structure and styling
for all pages in the Deal Radar application. It includes navigation,
footer, and common UI elements that are shared across the site.

Template Structure:
- HTML5 doctype with responsive meta tags
- Bootstrap 5 CSS framework for responsive design
- Custom CSS for Deal Radar branding and styling
- Navigation bar with authentication-aware menu items
- Main content area with block placeholders
- Footer with links and company information
- JavaScript libraries for interactivity

Template Blocks:
- title: Page-specific title content
- extra_css: Additional CSS for specific pages
- content: Main page content area
- extra_js: Additional JavaScript for specific pages

Bootstrap Integration:
- Responsive grid system for mobile-first design
- Pre-built components (navbar, cards, buttons, forms)
- Utility classes for spacing and typography
- Theme customization with CSS variables

Accessibility Features:
- Semantic HTML structure for screen readers
- Proper heading hierarchy and landmarks
- Keyboard navigation support
- Color contrast compliance
- Alt text for images and icons

Performance Considerations:
- CDN-hosted Bootstrap for faster loading
- Minified CSS and JavaScript files
- Responsive images and lazy loading
- Critical CSS inlined in head section
-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Deal Radar{% endblock %}</title>
    
    <!-- Favicon and app icons -->
    <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
    
    <!-- Base styles -->
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    
    <!-- Page-specific styles -->
    {% block extra_css %}{% endblock %}
    
    <!-- Preload critical fonts for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <div class="container">
        <!-- Navigation -->
        <nav class="nav-bar" role="navigation" aria-label="Main navigation">
            <div class="nav-brand">
                <a href="{% url 'home' %}" class="brand-link">
                    <img src="{% static 'images/radar-animation.gif' %}" alt="Deal Radar" class="navbar-radar">
                    <span class="brand-text">Deal Radar</span>
                </a>
            </div>
            <div class="nav-links">
                <a href="{% url 'home' %}" 
                   class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}">
                    🏠 Home
                </a>
                {% if user.is_authenticated %}
                    <a href="{% url 'dashboard' %}" 
                       class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                        📊 Dashboard
                    </a>
                {% endif %}
            </div>
            <div class="nav-auth">
                {% if user.is_authenticated %}
                    <span class="user-welcome">👋 Welcome, {{ user.username }}!</span>
                    <a href="{% url 'logout' %}" class="nav-logout">Logout</a>
                {% else %}
                    <a href="{% url 'login' %}" class="nav-login">Login</a>
                    <a href="{% url 'signup' %}" class="nav-signup">Sign Up</a>
                {% endif %}
            </div>
        </nav>

        <!-- Messages -->
        {% if messages %}
            <div class="messages" role="alert" aria-live="polite">
                {% for message in messages %}
                    <div class="message message-{{ message.tags }}">
                        {{ message }}
                        <button type="button" class="message-close" aria-label="Close message">&times;</button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}

        <!-- Main content area -->
        <main id="main-content" role="main">
            {% block content %}{% endblock %}
        </main>
    </div>

    <!-- Base JavaScript -->
    <script src="{% static 'js/base.js' %}"></script>
    
    <!-- Page-specific JavaScript -->
    {% block extra_js %}{% endblock %}
</body>
</html>
