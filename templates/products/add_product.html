{% extends 'base.html' %}
{% load static %}

{% block title %}Add Product - Deal Radar{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/forms.css' %}">
{% endblock %}

{% block content %}
    <a href="{% url 'dashboard' %}" class="back-link">‚Üê Back to Dashboard</a>
    
    <div class="form-container">
        <div class="form-header">
            <h1>üéØ Track New Product</h1>
            <p>Add a product to your personal tracking list and get price alerts</p>
        </div>
        
        <form method="post" class="product-form">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="url">Product URL:</label>
                <input type="url" id="url" name="url" required
                       placeholder="https://amazon.com/product-page or https://ebay.com/item/...">
                <div class="help-text">
                    Enter the direct link to the product page you want to track.
                </div>
            </div>

            <div class="form-group">
                <label for="category">Category:</label>
                <select id="category" name="category" required>
                    {% for key, display in product_category_choices %}
                        <option value="{{ key }}">{{ display }}</option>
                    {% endfor %}
                </select>
                <div class="help-text">
                    Select the category that best fits the product.
                </div>
            </div>

            <div class="form-group">
                <label for="target_price">Target Price (¬£):</label>
                <input type="number" step="0.01" id="target_price" 
                       name="target_price" placeholder="79.99">
                <div class="help-text">
                    You'll get an alert when the price drops to or below this amount.
                </div>
            </div>

            <div class="info-box">
                <strong>‚ÑπÔ∏è Phase 3 Note:</strong> Product details are entered manually. 
                In future phases, we'll automatically scrape product information and current prices.
            </div>

            <div class="form-actions">
                <a href="{% url 'dashboard' %}" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-primary">
                    ‚ûï Start Tracking
                </button>
            </div>
        </form>
    </div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/forms.js' %}"></script>
{% endblock %}